import{h as g,F as A,B as S,m as $,n as y,i as L,_ as R}from"./index.afcd2e8c.js";/* empty css               *//* empty css               */import{d as U,r as u,u as V,c as I,aP as C,aK as K,F as f,aH as P,aT as o,H as m,J as E,G as M,aY as N,aV as O,I as B,aX as T,aI as z,aU as a,b2 as j,bv as G,b3 as J,bx as X,bK as Y,be as q,bC as Q,c6 as W,br as Z,bd as x,bk as ee,bN as ae}from"./arco.31164f47.js";function he(e){return e=A(e),g.get({url:"/createcode/cate/getList",params:e},{errorMessageMode:"message"})}function te(e){return g.get({url:"/createcode/cate/getContent",params:e},{errorMessageMode:"message"})}function oe(e){return g.post({url:"/createcode/cate/save",params:e},{errorMessageMode:"message"})}function ve(e){return g.delete({url:"/createcode/cate/del",params:e},{errorMessageMode:"message"})}const se=U({name:"AddForm",components:{BasicModal:S},emits:["success"],setup(e,{emit:s}){const H=u(!0),c=u(!1),_=u(1),k=u(620),p=u(620),n=u(),d={id:0,name:"",pid:0,remark:"",status:0,weigh:0},l=u(d),[b,{setModalProps:h,closeModal:v}]=$(async i=>{if(n.value?.resetFields(),_.value=1,h({confirmLoading:!1}),c.value=!!i?.isUpdate,V(c)){l.value=y(i.record),r(!0);const D=await te({id:i.record.id});l.value=Object.assign({},l.value,D),r(!1)}else l.value=y(d)}),F=I(()=>V(c)?"\u7F16\u8F91\u6570\u636E":"\u65B0\u589E\u6570\u636E"),{loading:w,setLoading:r}=L();return{registerModal:b,getTitle:F,handleSubmit:async()=>{try{if(!await n.value?.validate()){r(!0),C.loading({content:"\u63D0\u4EA4\u4E2D",id:"submit",duration:0});let D=y(V(l));await oe(D),C.success({content:"\u63D0\u4EA4\u6210\u529F",id:"submit",duration:1500}),v(),s("success"),r(!1)}}catch{r(!1),C.loading({content:"\u63D0\u4EA4\u4E2D",id:"submit",duration:1})}},formRef:n,loading:w,formData:l,tapList:[{id:1,name:"\u57FA\u7840\u5185\u5BB9"}],activeKey:_,modelHeight:k,onHeightChange:i=>{p.value=i},windHeight:p,isEditor:H}}});const ne={key:0,class:"tabs-header"},le={class:"tabs-nav-wrap"},de=["onClick"],re={class:"label"},ie={class:"content_box"},ue={class:"besecontent"};function me(e,s,H,c,_,k){const p=X,n=Y,d=q,l=Q,b=W,h=Z,v=x,F=ee,w=ae,r=K("BasicModal");return f(),P(r,J(e.$attrs,{onRegister:e.registerModal,isPadding:!1,loading:e.loading,width:"1000px",onHeightChange:e.onHeightChange,minHeight:e.modelHeight,title:e.getTitle,onOk:e.handleSubmit}),{default:o(()=>[m("div",{class:"addFormbox",style:E({"min-height":`${e.windHeight}px`})},[e.isEditor?(f(),M("div",ne,[m("div",le,[(f(!0),M(N,null,O(e.tapList,t=>(f(),M("div",{class:B(["tap_item",{item_active:e.activeKey==t.id}]),onClick:()=>{e.activeKey=t.id}},[m("div",re,T(t.name),1)],10,de))),256))]),m("div",{class:"tabs-bar",style:E({top:`${(e.activeKey-1)*64}px`,height:"64px"})},null,4)])):z("",!0),m("div",{class:B(["tabs-content",{addpadding:!e.isEditor}])},[a(w,{ref:"formRef",model:e.formData,"auto-label-width":""},{default:o(()=>[m("div",ie,[j(a(F,{style:E([{overflow:"auto"},{height:`${e.windHeight}px`}])},{default:o(()=>[m("div",ue,[a(v,{gutter:16},{default:o(()=>[a(d,{span:12},{default:o(()=>[a(n,{field:"name",label:"\u540D\u79F0"},{default:o(()=>[a(p,{modelValue:e.formData.name,"onUpdate:modelValue":s[0]||(s[0]=t=>e.formData.name=t),placeholder:"\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),a(d,{span:12},{default:o(()=>[a(n,{field:"pid",label:"\u7236\u7EA7"},{default:o(()=>[a(l,{modelValue:e.formData.pid,"onUpdate:modelValue":s[1]||(s[1]=t=>e.formData.pid=t),placeholder:"\u8F93\u5165\u7236\u7EA7"},null,8,["modelValue"])]),_:1})]),_:1}),a(d,{span:24},{default:o(()=>[a(n,{field:"remark",label:"\u5907\u6CE8"},{default:o(()=>[a(b,{modelValue:e.formData.remark,"onUpdate:modelValue":s[2]||(s[2]=t=>e.formData.remark=t),placeholder:"\u8F93\u5165\u5907\u6CE8","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1}),a(d,{span:12},{default:o(()=>[a(n,{field:"status",label:"\u72B6\u6001"},{default:o(()=>[a(h,{modelValue:e.formData.status,"onUpdate:modelValue":s[3]||(s[3]=t=>e.formData.status=t)},null,8,["modelValue"])]),_:1})]),_:1}),a(d,{span:12},{default:o(()=>[a(n,{field:"weigh",label:"\u6392\u5E8F"},{default:o(()=>[a(l,{modelValue:e.formData.weigh,"onUpdate:modelValue":s[4]||(s[4]=t=>e.formData.weigh=t),placeholder:"\u8F93\u5165\u6392\u5E8F"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["style"]),[[G,e.activeKey==1]])])]),_:1},8,["model"])],2)],4)]),_:1},16,["onRegister","loading","onHeightChange","minHeight","title","onOk"])}const ce=R(se,[["render",me],["__scopeId","data-v-f8e1f751"]]),Fe=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));export{ce as A,Fe as a,ve as d,he as g};
