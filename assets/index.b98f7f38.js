import{p as K,i as Ne,x as $e,I as f,_ as Me}from"./index.6eeff463.js";/* empty css                *//* empty css               *//* empty css               *//* empty css              */import{c as Pe,d as Te,r as i,j as Re,o as He,w as ee,aK as k,F as c,G as V,aU as a,aT as o,H as l,I as S,u as r,aH as h,aY as Oe,aX as C,aW as d,aI as te,c9 as je,n as ae,aP as _,aO as ne,bh as Le,ba as Ye,cd as Ge,bg as We,bf as Xe,bx as qe,b6 as Je,bm as Qe,bD as Ze,bE as Ke,c7 as et,c8 as tt,ce as at}from"./arco.31164f47.js";import{A as nt,g as ot,u as lt,d as st,a as ut}from"./AddForm.0f86d807.js";import{C as it,g as dt,d as rt}from"./CateForm.675b7bb1.js";import"./dayjs.37b46cef.js";import{t as ct}from"./index.28b27688.js";import"./chart.0656511d.js";import"./vue.85c125e1.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css                */import"./common.a23b3726.js";const oe=Pe(()=>[{title:"ID",dataIndex:"id",align:"left",width:80,sortable:{sortDirections:["ascend"],defaultSortOrder:"ascend"}},{title:"\u4EA4\u6613\u5BF9",dataIndex:"symbol",slotName:"symbolN",align:"left",width:190},{title:"\u5206\u7C7B",dataIndex:"cidName",align:"left",width:100},{title:"\u59D4\u6258UID",dataIndex:"order_uid",slotName:"orderUid",align:"left",width:190},{title:"\u5237\u91CFUID",dataIndex:"vol_uid",slotName:"volUid",align:"left",width:190},{title:"\u5BF9\u51B2\u6A21\u5F0F",dataIndex:"hedge_switch",slotName:"switchstatus",align:"left",width:190},{title:"\u5237\u91CF\u5F00\u5173",dataIndex:"vol_status",slotName:"switchstatus",align:"left",width:100},{title:"\u59D4\u6258\u5F00\u5173",dataIndex:"order_status",slotName:"switchstatus",align:"left",width:100},{title:"\u5F00\u76D8\u65F6\u95F4",dataIndex:"opentime",slotName:"datetime",align:"left",width:120},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations",fixed:"right",width:100,align:"center"}]),pt={class:"container"},vt={class:"split-menu"},mt={class:"list-header-wrapper"},ft={class:"list-header"},_t={class:"collapse-root"},gt={class:"tablebox"},wt={class:"scrollbarcontainer"},ht={class:"titleBox"},Ct={key:1,class:"titleBox"},bt={class:"tigmenu"},yt=["onClick"],xt=["onClick"],Ft={class:"optional-operation-wrapper"},kt={class:"flex-page contentbox"},Dt={class:"custom-full-table"},Et={class:"search-field"},Bt={class:"search-btn"},zt={class:"search-option"},It={class:"table-container"},At={name:"spot"},Vt=Te({...At,setup(St){const R=i("205px"),[le,{openModal:H}]=K(),[se,{openModal:O}]=K(),D=i(null),y=i([]),U=i([0]),N=i(0),ue=async n=>{U.value=n,u.value.cid=n[0],ae(()=>{m()}),N.value!=n[0]?(D.value?.expandNode(n,!0),N.value=n[0]):(D.value?.expandNode(n,!1),N.value=0)},p=Re({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0}),{loading:ie,setLoading:E}=Ne(!0),j=i([]),$=i([]),L=i(!1),Y=i("large"),G=()=>({order_status:"",order_uid:"",symbol:"",symbol2:"",vol_status:"",vol_uid:"",cid:0}),u=i(G()),m=async()=>{E(!0);try{const n=await ot({page:p.current,pageSize:p.pageSize,...u.value});j.value=n.items,p.current=n.page,p.total=n.total}catch{}finally{E(!1)}},M=async n=>{const e=await dt({}),g=[{key:0,name:"\u5168\u90E8\u6570\u636E"}];e?y.value=g.concat(e):y.value=g,n!=1&&(E(!1),y.value&&y.value.length>0&&ae(()=>{E(!0),m()}))},P=i(null),b=i(!1),x=i(!1);He(()=>{M(0),W(),window.onresize=()=>{W()}});const W=()=>{P.value&&(P.value.offsetHeight>40?x.value=!0:(x.value=!1,b.value=!1))},de=()=>{p.current=1,m()},re=()=>{p.current=1,u.value=G(),m()};ee(()=>oe.value,n=>{$.value=$e(n)},{deep:!0,immediate:!0});const ce=()=>{H(!0,{isUpdate:!1,record:null})},pe=async n=>{H(!0,{isUpdate:!0,record:n})},ve=async()=>{p.current=1,m()},me=n=>{p.current=n,m()},fe=n=>{p.pageSize=n,m()},_e=async(n,e)=>{try{_.loading({content:"\u66F4\u65B0\u72B6\u6001\u4E2D",id:"up",duration:0}),await lt({id:n.id,[e]:n[e]}),_.success({content:"\u66F4\u65B0\u72B6\u6001\u6210\u529F",id:"up",duration:2e3})}catch{n.status=n.status==1?0:1,_.loading({content:"\u66F4\u65B0\u72B6\u6001\u4E2D",id:"up",duration:1})}},ge=async n=>{try{_.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:0}),await st({ids:[n.id]}),m(),_.success({content:"\u5220\u9664\u6210\u529F",id:"del",duration:2e3})}catch{_.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:1})}},B=i(!0);function we(){B.value=!B.value,D.value?.expandAll(B.value)}const X=n=>{O(!0,{isUpdate:!1,record:{pid:n}})},he=n=>{O(!0,{isUpdate:!0,record:n})},Ce=async n=>{ne.warning({title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5185\u5BB9\u5417\uFF1F",content:"\u5220\u9664\u540E\u5185\u5BB9\u5C06\u65E0\u6CD5\u6062\u590D\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01",cancelText:"\u53D6\u6D88",okText:"\u5220\u9664",titleAlign:"start",hideCancel:!1,onOk:async()=>{try{_.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:0}),await rt({ids:[n]})&&(M(0),u.value.cid==n&&(u.value.cid=0,U.value=[0]),_.success({content:"\u5220\u9664\u6210\u529F",id:"del",duration:2e3}))}catch{_.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:1})}}})},T=i({}),z=i(!1),w=n=>{T.value=n,z.value=!0},q=i([]),be=async()=>{const n={...u.value,id:T.value.id,data:T.value,page:1,pageSize:10},e=await ut(n);q.value=e.items},ye=i([{title:"\u8D44\u4EA7ID",dataIndex:"id"},{title:"\u8D44\u4EA7\u540D\u79F0",dataIndex:"name"},{title:"\u8D44\u4EA7\u7C7B\u578B",dataIndex:"type"},{title:"\u8D44\u4EA7\u4EF7\u503C",dataIndex:"value"}]);return ee(z,n=>{n&&be()}),(n,e)=>{const g=Le,xe=k("IconDown"),Fe=Ye,ke=Ge,I=We,J=Xe,A=qe,F=Je,De=k("icon-up"),Ee=k("icon-down"),v=Qe,Be=k("icon-search"),ze=Ze,Ie=Ke,Ae=et,Q=tt,Ve=at,Se=k("page-card"),Ue=ne;return c(),V("div",pt,[a(Se,{breadcrumb:"",isFullscreen:L.value},{default:o(()=>[a(Ve,{style:{width:"100%",height:"100%"},size:R.value,"onUpdate:size":e[12]||(e[12]=t=>R.value=t),min:150,max:800},{"resize-trigger":o(()=>[...e[15]||(e[15]=[l("div",{class:"resizebox-line toggle-list"},[l("div",{class:"resizebox-line-icon"})],-1)])]),first:o(()=>[l("div",vt,[l("div",mt,[l("div",ft,[e[16]||(e[16]=l("span",{class:"catalogue-title"},"\u5206\u7C7B\u7BA1\u7406",-1)),l("div",_t,[l("span",{class:S(["header-operation",`collapse-toggle-${B.value?"down":"up"}`]),onClick:e[0]||(e[0]=()=>{we()})},null,2)]),a(g,{content:"\u65B0\u5EFA\u5206\u7C7B"},{default:o(()=>[a(r(f),{class:"addicon",onClick:e[1]||(e[1]=t=>X(0)),icon:"icon-plus-circle-fill",size:29,color:"#055fe6"})]),_:1})])]),l("div",gt,[l("div",wt,[a(ke,{blockNode:!0,data:y.value,"show-line":!0,ref_key:"treeRef",ref:D,"selected-keys":U.value,onSelect:ue},{"switcher-icon":o((t,{isLeaf:s})=>[s?(c(),V(Oe,{key:1},[t.key!=0?(c(),h(r(f),{key:0,class:"yuandian",icon:"svgfont-yuandian2",size:15})):(c(),h(r(f),{key:1,class:"yuandian",icon:"svgfont-home",size:15}))],64)):(c(),h(xe,{key:0}))]),title:o(t=>[t.name.length>=8?(c(),h(g,{key:0,content:t.name,"background-color":"#4e5969"},{default:o(()=>[l("span",ht,C(t.name),1)]),_:2},1032,["content"])):(c(),V("span",Ct,C(t.name),1))]),extra:o(t=>[t.key!=0?(c(),V("span",{key:0,class:S(["page-tree-tool",{"page-tree-tool-active":t.showbtn}])},[a(Fe,{position:"br",trigger:"click","popup-visible":t.showbtn,onPopupVisibleChange:s=>t.showbtn=s},{content:o(()=>[l("div",bt,[l("div",{class:"item",onClick:s=>he(t)},[a(r(f),{class:"bicon",icon:"svgfont-bianji1",size:13}),e[17]||(e[17]=d(" \u7F16\u8F91",-1))],8,yt),l("div",{class:"item delete",onClick:s=>Ce(t.id)},[a(r(f),{class:"bicon",icon:"svgfont-icon7",size:13}),e[18]||(e[18]=d(" \u5220\u9664",-1))],8,xt)])]),default:o(()=>[a(r(f),{class:"unicon page-tree-menu-button",icon:"svgfont-gengduo",size:13})]),_:2},1032,["popup-visible","onPopupVisibleChange"]),l("span",Ft,[a(g,{content:"\u521B\u5EFA\u5B50\u6570\u636E"},{default:o(()=>[a(r(f),{class:"unicon",onClick:s=>X(t.id),icon:"svgfont-jia",size:12},null,8,["onClick"])]),_:2},1024)])],2)):te("",!0)]),_:1},8,["data","selected-keys"])])])])]),second:o(()=>[l("div",kt,[l("div",Dt,[l("div",{class:S(["search-row",{unhasesearchbtn:!x.value,hasesearchbtn:x.value}])},[l("div",Et,[l("div",{class:S(["search-line search-drown",{searchdowncss:b.value}])},[l("div",{class:"search-drown-box",ref_key:"searchRef",ref:P},[a(F,{wrap:""},{default:o(()=>[a(J,{style:{width:"120px"},modelValue:u.value.order_status,"onUpdate:modelValue":e[2]||(e[2]=t=>u.value.order_status=t),placeholder:"\u9009\u62E9\u59D4\u6258\u5F00\u5173","allow-clear":""},{default:o(()=>[a(I,{value:1},{default:o(()=>[...e[19]||(e[19]=[d("\u5173\u95ED",-1)])]),_:1}),a(I,{value:0},{default:o(()=>[...e[20]||(e[20]=[d("\u5F00\u542F",-1)])]),_:1})]),_:1},8,["modelValue"]),a(A,{style:{width:"120px"},modelValue:u.value.order_uid,"onUpdate:modelValue":e[3]||(e[3]=t=>u.value.order_uid=t),placeholder:"\u8F93\u5165\u59D4\u6258UID","allow-clear":""},null,8,["modelValue"]),a(A,{style:{width:"120px"},modelValue:u.value.symbol,"onUpdate:modelValue":e[4]||(e[4]=t=>u.value.symbol=t),placeholder:"\u8F93\u5165\u4EA4\u6613\u5BF9","allow-clear":""},null,8,["modelValue"]),a(A,{style:{width:"120px"},modelValue:u.value.symbol2,"onUpdate:modelValue":e[5]||(e[5]=t=>u.value.symbol2=t),placeholder:"\u8F93\u5165\u5237\u91CF\u5BF9\u6807\u4E0A\u6E38\u4EA4\u6613\u5BF9\u91CF","allow-clear":""},null,8,["modelValue"]),a(J,{style:{width:"120px"},modelValue:u.value.vol_status,"onUpdate:modelValue":e[6]||(e[6]=t=>u.value.vol_status=t),placeholder:"\u9009\u62E9\u5237\u91CF\u5F00\u5173","allow-clear":""},{default:o(()=>[a(I,{value:1},{default:o(()=>[...e[21]||(e[21]=[d("\u5173\u95ED",-1)])]),_:1}),a(I,{value:0},{default:o(()=>[...e[22]||(e[22]=[d("\u5F00\u542F",-1)])]),_:1})]),_:1},8,["modelValue"]),a(A,{style:{width:"120px"},modelValue:u.value.vol_uid,"onUpdate:modelValue":e[7]||(e[7]=t=>u.value.vol_uid=t),placeholder:"\u8F93\u5165\u5237\u91CFUID","allow-clear":""},null,8,["modelValue"])]),_:1})],512)],2)]),l("div",Bt,[a(F,null,{default:o(()=>[a(g,{mini:"",content:b.value?"\u6536\u8D77\u67E5\u8BE2\u6761\u4EF6":"\u5C55\u5F00\u67E5\u8BE2\u6761\u4EF6"},{default:o(()=>[x.value?(c(),h(v,{key:0,onClick:e[8]||(e[8]=t=>b.value=!b.value)},{icon:o(()=>[b.value?(c(),h(De,{key:0})):(c(),h(Ee,{key:1}))]),_:1})):te("",!0)]),_:1},8,["content"]),a(v,{type:"primary",onClick:de},{icon:o(()=>[a(Be)]),default:o(()=>[e[23]||(e[23]=d(" \u67E5\u8BE2 ",-1))]),_:1}),a(v,{onClick:re},{default:o(()=>[d(C(n.$t("searchTable.form.reset")),1)]),_:1})]),_:1})]),l("div",zt,[a(r(ct),{showbtn:["create","refresh","selectdensity","settingcolumn","fullscreen"],columns:r(oe),disabledColumnKeys:["id"],onCreate:ce,onRefresh:m,onSelectdensity:e[9]||(e[9]=t=>Y.value=t),onFullscreen:e[10]||(e[10]=t=>L.value=t),onSettingcolumn:e[11]||(e[11]=t=>$.value=t)},null,8,["columns"])])],2),l("div",It,[a(Q,{"row-key":"id",loading:r(ie),pagination:p,columns:$.value,data:j.value,bordered:{wrapper:!0,cell:!0},size:Y.value,"default-expand-all-rows":!0,ref:"artable",scroll:{x:"100%",y:"100%"},onPageChange:me,onPageSizeChange:fe},{switchstatus:o(({record:t,column:s})=>[a(ze,{modelValue:t[s.dataIndex],"onUpdate:modelValue":Z=>t[s.dataIndex]=Z,"checked-value":0,"unchecked-value":1,onChange:Z=>_e(t,s.dataIndex)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),datetime:o(({record:t,column:s})=>[d(C(r(je)(t[s.dataIndex]).format("YYYY-MM-DD HH:mm")),1)]),operations:o(({record:t})=>[a(r(f),{icon:"svgfont-bianji1",class:"iconbtn",onClick:s=>pe(t),size:18,color:"#0960bd"},null,8,["onClick"]),a(Ie,{direction:"vertical"}),a(Ae,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:s=>ge(t)},{default:o(()=>[a(r(f),{icon:"svgfont-icon7",class:"iconbtn",size:18,color:"#ed6f6f"})]),_:1},8,["onOk"])]),symbolN:o(({record:t})=>[a(F,null,{default:o(()=>[l("span",null,C(t.symbol),1),a(v,{type:"text",size:"mini",onClick:s=>w(t)},{default:o(()=>[...e[24]||(e[24]=[d(" \u83B7\u53D6\u5E02\u573A ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),orderUid:o(({record:t})=>[a(F,null,{default:o(()=>[l("span",null,C(t.order_uid),1),a(v,{type:"text",size:"mini",onClick:s=>w(t)},{default:o(()=>[...e[25]||(e[25]=[d(" \u8D44\u4EA7 ",-1)])]),_:1},8,["onClick"]),a(v,{type:"text",size:"mini",onClick:s=>w(t)},{default:o(()=>[...e[26]||(e[26]=[d(" \u8BA2\u5355 ",-1)])]),_:1},8,["onClick"]),a(v,{type:"text",size:"mini",onClick:s=>w(t)},{default:o(()=>[...e[27]||(e[27]=[d(" \u5386\u53F2\u5355 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),volUid:o(({record:t})=>[a(F,null,{default:o(()=>[l("span",null,C(t.vol_uid),1),a(v,{type:"text",size:"mini",onClick:s=>w(t)},{default:o(()=>[...e[28]||(e[28]=[d(" \u8D44\u4EA7 ",-1)])]),_:1},8,["onClick"]),a(v,{type:"text",size:"mini",onClick:s=>w(t)},{default:o(()=>[...e[29]||(e[29]=[d(" \u8BA2\u5355 ",-1)])]),_:1},8,["onClick"]),a(v,{type:"text",size:"mini",onClick:s=>w(t)},{default:o(()=>[...e[30]||(e[30]=[d(" \u5386\u53F2\u5355 ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:1},8,["loading","pagination","columns","data","size"])])])])]),_:1},8,["size"])]),_:1},8,["isFullscreen"]),a(nt,{onRegister:r(le),onSuccess:ve},null,8,["onRegister"]),a(it,{onRegister:r(se),onSuccess:e[13]||(e[13]=t=>M(1))},null,8,["onRegister"]),a(Ue,{visible:z.value,"onUpdate:visible":e[14]||(e[14]=t=>z.value=t),title:"\u8D44\u4EA7\u5217\u8868",width:"90vw",bodyStyle:{maxHeight:"70vh",overflow:"auto"}},{default:o(()=>[a(Q,{columns:ye.value,data:q.value,"row-key":"id"},null,8,["columns","data"])]),_:1},8,["visible"])])}}});const ea=Me(Vt,[["__scopeId","data-v-ca1db4d3"]]);export{ea as default};
