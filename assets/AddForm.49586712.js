import{h as D,F as O,B as z,m as j,n as k,i as q,_ as G}from"./index.6eeff463.js";/* empty css               *//* empty css               */import{d as J,r,u as H,c as W,aP as U,aK as i,F as v,aH as X,aT as l,H as g,J as M,G as A,aY as Y,aV as Q,I as S,aX as Z,aI as x,aU as a,b2 as ee,aW as m,bv as ae,b3 as oe,bx as le,bK as ue,be as te,bC as de,bq as se,br as ne,bM as re,cf as ie,bF as me,c6 as fe,bd as pe,bk as ge,bN as Fe}from"./arco.31164f47.js";function Ae(e){return e=O(e),D.get({url:"/createcode/product/getList",params:e},{errorMessageMode:"message"})}function be(e){return D.get({url:"/createcode/product/getContent",params:e},{errorMessageMode:"message"})}function Be(e){return D.post({url:"/createcode/product/save",params:e},{errorMessageMode:"message"})}function he(e){return D.delete({url:"/createcode/product/del",params:e},{errorMessageMode:"message"})}const ce=J({name:"AddForm",components:{BasicModal:z},emits:["success"],setup(e,{emit:o}){const h=r(!1),K=r(!0),B=r(!1),_=r(1),C=r(620),d=r(620),t=r(),c={id:0,title:"",cid:"",num:0,userType:"",sex:0,status:0,price:null,workerway:[],image:"",likeColor:"",images:"",moreimgs:"",record_audio:"",file:"",des:"",content:"",contenttow:""},s=r(c),[w,{setModalProps:f,closeModal:V}]=j(async n=>{if(t.value?.resetFields(),_.value=1,f({confirmLoading:!1}),B.value=!!n?.isUpdate,H(B)){s.value=k(n.record),p(!0);const b=await be({id:n.record.id});s.value=Object.assign({},s.value,b),p(!1)}else s.value=k(c)}),F=W(()=>H(B)?"\u7F16\u8F91\u6570\u636E":"\u65B0\u589E\u6570\u636E"),{loading:E,setLoading:p}=q();return{registerModal:w,getTitle:F,handleSubmit:async()=>{try{if(!await t.value?.validate()){p(!0),U.loading({content:"\u63D0\u4EA4\u4E2D",id:"submit",duration:0});let b=k(H(s));await Be(b),U.success({content:"\u63D0\u4EA4\u6210\u529F",id:"submit",duration:2e3}),V(),o("success"),p(!1)}}catch{p(!1),U.loading({content:"\u63D0\u4EA4\u4E2D",id:"submit",duration:1})}},formRef:t,loading:E,formData:s,tapList:[{id:1,name:"\u57FA\u7840\u5185\u5BB9"},{id:2,name:"\u5185\u5BB9\u8BE6\u60C5"},{id:3,name:"\u6CE8\u610F\u5185\u5BB9"}],activeKey:_,modelHeight:C,onHeightChange:n=>{d.value=n},windHeight:d,isEditor:K,visibleimage:h}}});const Ve={key:0,class:"tabs-header"},ve={class:"tabs-nav-wrap"},De=["onClick"],_e={class:"label"},Ce={class:"content_box"},we={class:"besecontent"};function Ee(e,o,h,K,B,_){const C=le,d=ue,t=te,c=i("FormBelongTable"),s=de,w=i("FormDicSelect"),f=se,V=ne,F=re,E=ie,p=i("FormImageBox"),T=me,y=i("FormImagesBox"),n=i("FormAudioBox"),b=i("FormFileBox"),R=fe,$=pe,L=ge,I=i("FormEditorBox"),P=Fe,N=i("BasicModal");return v(),X(N,oe(e.$attrs,{onRegister:e.registerModal,isPadding:!1,loading:e.loading,width:"1000px",onHeightChange:e.onHeightChange,minHeight:e.modelHeight,title:e.getTitle,onOk:e.handleSubmit}),{default:l(()=>[g("div",{class:"addFormbox",style:M({"min-height":`${e.windHeight}px`})},[e.isEditor?(v(),A("div",Ve,[g("div",ve,[(v(!0),A(Y,null,Q(e.tapList,u=>(v(),A("div",{class:S(["tap_item",{item_active:e.activeKey==u.id}]),onClick:()=>{e.activeKey=u.id}},[g("div",_e,Z(u.name),1)],10,De))),256))]),g("div",{class:"tabs-bar",style:M({top:`${(e.activeKey-1)*64}px`,height:"64px"})},null,4)])):x("",!0),g("div",{class:S(["tabs-content",{addpadding:!e.isEditor}])},[a(P,{ref:"formRef",model:e.formData,"auto-label-width":""},{default:l(()=>[g("div",Ce,[ee(a(L,{style:M([{overflow:"auto"},{height:`${e.windHeight}px`}])},{default:l(()=>[g("div",we,[a($,{gutter:16},{default:l(()=>[a(t,{span:12},{default:l(()=>[a(d,{field:"title",label:"\u6807\u9898",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u6807\u9898"}]},{default:l(()=>[a(C,{modelValue:e.formData.title,"onUpdate:modelValue":o[0]||(o[0]=u=>e.formData.title=u),placeholder:"\u8F93\u5165\u6807\u9898"},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:12},{default:l(()=>[a(d,{field:"cid",label:"\u5206\u7C7B"},{default:l(()=>[a(c,{modelValue:e.formData.cid,"onUpdate:modelValue":o[1]||(o[1]=u=>e.formData.cid=u),placeholder:"\u8BF7\u9009\u5206\u7C7B",tablename:"createcode_product_cate",showfield:"name"},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:12},{default:l(()=>[a(d,{field:"num",label:"\u5E93\u5B58"},{default:l(()=>[a(s,{modelValue:e.formData.num,"onUpdate:modelValue":o[2]||(o[2]=u=>e.formData.num=u),placeholder:"\u8F93\u5165\u5E93\u5B58"},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:12},{default:l(()=>[a(d,{field:"userType",label:"\u7528\u6237\u7C7B\u578B"},{default:l(()=>[a(w,{modelValue:e.formData.userType,"onUpdate:modelValue":o[3]||(o[3]=u=>e.formData.userType=u),placeholder:"\u8BF7\u9009\u7528\u6237\u7C7B\u578B",dicgroupid:"2"},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:12},{default:l(()=>[a(d,{field:"sex",label:"\u6027\u522B"},{default:l(()=>[a(V,{modelValue:e.formData.sex,"onUpdate:modelValue":o[4]||(o[4]=u=>e.formData.sex=u)},{default:l(()=>[a(f,{value:0},{default:l(()=>[...o[17]||(o[17]=[m("\u672A\u77E5",-1)])]),_:1}),a(f,{value:1},{default:l(()=>[...o[18]||(o[18]=[m("\u7537",-1)])]),_:1}),a(f,{value:2},{default:l(()=>[...o[19]||(o[19]=[m("\u5973",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(t,{span:12},{default:l(()=>[a(d,{field:"status",label:"\u72B6\u6001"},{default:l(()=>[a(V,{modelValue:e.formData.status,"onUpdate:modelValue":o[5]||(o[5]=u=>e.formData.status=u)},{default:l(()=>[a(f,{value:0},{default:l(()=>[...o[20]||(o[20]=[m("\u6B63\u5E38",-1)])]),_:1}),a(f,{value:1},{default:l(()=>[...o[21]||(o[21]=[m("\u9690\u85CF",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(t,{span:12},{default:l(()=>[a(d,{field:"price",label:"\u4EF7\u683C",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u4EF7\u683C"}]},{default:l(()=>[a(s,{modelValue:e.formData.price,"onUpdate:modelValue":o[6]||(o[6]=u=>e.formData.price=u),placeholder:"\u8F93\u5165\u4EF7\u683C"},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:12},{default:l(()=>[a(d,{field:"workerway",label:"\u51FA\u884C\u65B9\u5F0F"},{default:l(()=>[a(E,{modelValue:e.formData.workerway,"onUpdate:modelValue":o[7]||(o[7]=u=>e.formData.workerway=u)},{default:l(()=>[a(F,{value:"car"},{default:l(()=>[...o[22]||(o[22]=[m("\u6C7D\u8F66",-1)])]),_:1}),a(F,{value:"bus"},{default:l(()=>[...o[23]||(o[23]=[m("\u516C\u4EA4",-1)])]),_:1}),a(F,{value:"air"},{default:l(()=>[...o[24]||(o[24]=[m("\u98DE\u673A",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(t,{span:12},{default:l(()=>[a(d,{field:"image",label:"\u5355\u5F20\u56FE"},{default:l(()=>[a(p,{modelValue:e.formData.image,"onUpdate:modelValue":o[8]||(o[8]=u=>e.formData.image=u),placeholder:"\u8BF7\u9009\u5355\u5F20\u56FE"},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:12},{default:l(()=>[a(d,{field:"likeColor",label:"\u559C\u6B22\u989C\u8272"},{default:l(()=>[a(T,{showPreset:"",modelValue:e.formData.likeColor,"onUpdate:modelValue":o[9]||(o[9]=u=>e.formData.likeColor=u)},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:24},{default:l(()=>[a(d,{field:"images",label:"\u591A\u5F20\u56FE"},{default:l(()=>[a(y,{modelValue:e.formData.images,"onUpdate:modelValue":o[10]||(o[10]=u=>e.formData.images=u),placeholder:"\u8BF7\u9009\u591A\u5F20\u56FE"},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:24},{default:l(()=>[a(d,{field:"moreimgs",label:"\u56FE\u7EC4"},{default:l(()=>[a(y,{modelValue:e.formData.moreimgs,"onUpdate:modelValue":o[11]||(o[11]=u=>e.formData.moreimgs=u),placeholder:"\u8BF7\u9009\u56FE\u7EC4"},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:24},{default:l(()=>[a(d,{field:"record_audio",label:"\u8BB0\u5F55\u5F55\u97F3"},{default:l(()=>[a(n,{modelValue:e.formData.record_audio,"onUpdate:modelValue":o[12]||(o[12]=u=>e.formData.record_audio=u),placeholder:"\u8BF7\u9009\u8BB0\u5F55\u5F55\u97F3"},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:24},{default:l(()=>[a(d,{field:"file",label:"\u9644\u4EF6"},{default:l(()=>[a(b,{modelValue:e.formData.file,"onUpdate:modelValue":o[13]||(o[13]=u=>e.formData.file=u),placeholder:"\u8BF7\u9009\u9644\u4EF6"},null,8,["modelValue"])]),_:1})]),_:1}),a(t,{span:24},{default:l(()=>[a(d,{field:"des",label:"\u63CF\u8FF0"},{default:l(()=>[a(R,{modelValue:e.formData.des,"onUpdate:modelValue":o[14]||(o[14]=u=>e.formData.des=u),placeholder:"\u8F93\u5165\u63CF\u8FF0","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["style"]),[[ae,e.activeKey==1]]),a(I,{modelValue:e.formData.content,"onUpdate:modelValue":o[15]||(o[15]=u=>e.formData.content=u),placeholder:"\u8BF7\u7F16\u8F91\u5185\u5BB9\u8BE6\u60C5",winHeights:e.windHeight,activeKey:e.activeKey,subnum:2},null,8,["modelValue","winHeights","activeKey"]),a(I,{modelValue:e.formData.contenttow,"onUpdate:modelValue":o[16]||(o[16]=u=>e.formData.contenttow=u),placeholder:"\u8BF7\u7F16\u8F91\u6CE8\u610F\u5185\u5BB9",winHeights:e.windHeight,activeKey:e.activeKey,subnum:3},null,8,["modelValue","winHeights","activeKey"])])]),_:1},8,["model"])],2)],4)]),_:1},16,["onRegister","loading","onHeightChange","minHeight","title","onOk"])}const ye=G(ce,[["render",Ee],["__scopeId","data-v-74fc617e"]]),Ke=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"}));export{ye as A,Ke as a,he as d,Ae as g};
