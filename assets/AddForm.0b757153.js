import{h as p,F as k,B as S,m as $,n as V,i as L,_ as I}from"./index.ec13b3f4.js";/* empty css               */import{d as K,r as d,u as w,c as P,aP as E,aK as H,F as g,aH as R,aT as o,H as m,J as y,G as A,aY as T,aV as N,I as U,aX as O,aI as j,aU as a,b2 as z,bv as G,b3 as J,bK as X,be as Y,bx as q,br as Q,bC as W,bd as Z,bk as x,bN as ee}from"./arco.31164f47.js";function he(e){return e=k(e),p.get({url:"/createcode/picture/getList",params:e},{errorMessageMode:"message"})}function ae(e){return p.get({url:"/createcode/picture/getContent",params:e},{errorMessageMode:"message"})}function te(e){return p.post({url:"/createcode/picture/save",params:e},{errorMessageMode:"message"})}function _e(e){return p.delete({url:"/createcode/picture/del",params:e},{errorMessageMode:"message"})}const oe=K({name:"AddForm",components:{BasicModal:S},emits:["success"],setup(e,{emit:s}){const C=d(!1),M=d(!0),c=d(!1),f=d(1),b=d(620),u=d(620),l=d(),i={id:0,cid:0,createtime:"",imageheight:"",imagewidth:"",status:0,storage:"local",title:"",uid:0},n=d(i),[h,{setModalProps:_,closeModal:v}]=$(async r=>{if(l.value?.resetFields(),f.value=1,_({confirmLoading:!1}),c.value=!!r?.isUpdate,w(c)){n.value=V(r.record),t(!0);const B=await ae({id:r.record.id});n.value=Object.assign({},n.value,B),t(!1)}else n.value=V(i)}),D=P(()=>w(c)?"\u7F16\u8F91\u6570\u636E":"\u65B0\u589E\u6570\u636E"),{loading:F,setLoading:t}=L();return{registerModal:h,getTitle:D,handleSubmit:async()=>{try{if(!await l.value?.validate()){t(!0),E.loading({content:"\u63D0\u4EA4\u4E2D",id:"submit",duration:0});let B=V(w(n));await te(B),E.success({content:"\u63D0\u4EA4\u6210\u529F",id:"submit",duration:2e3}),v(),s("success"),t(!1)}}catch{t(!1),E.loading({content:"\u63D0\u4EA4\u4E2D",id:"submit",duration:1})}},formRef:l,loading:F,formData:n,tapList:[{id:1,name:"\u57FA\u7840\u5185\u5BB9"}],activeKey:f,modelHeight:b,onHeightChange:r=>{u.value=r},windHeight:u,isEditor:M,visibleimage:C}}});const se={key:0,class:"tabs-header"},le={class:"tabs-nav-wrap"},ue=["onClick"],ne={class:"label"},de={class:"content_box"},ie={class:"besecontent"};function re(e,s,C,M,c,f){const b=H("FormBelongTable"),u=X,l=Y,i=q,n=Q,h=W,_=Z,v=x,D=ee,F=H("BasicModal");return g(),R(F,J(e.$attrs,{onRegister:e.registerModal,isPadding:!1,loading:e.loading,width:"1000px",onHeightChange:e.onHeightChange,minHeight:e.modelHeight,title:e.getTitle,onOk:e.handleSubmit}),{default:o(()=>[m("div",{class:"addFormbox",style:y({"min-height":`${e.windHeight}px`})},[e.isEditor?(g(),A("div",se,[m("div",le,[(g(!0),A(T,null,N(e.tapList,t=>(g(),A("div",{class:U(["tap_item",{item_active:e.activeKey==t.id}]),onClick:()=>{e.activeKey=t.id}},[m("div",ne,O(t.name),1)],10,ue))),256))]),m("div",{class:"tabs-bar",style:y({top:`${(e.activeKey-1)*64}px`,height:"64px"})},null,4)])):j("",!0),m("div",{class:U(["tabs-content",{addpadding:!e.isEditor}])},[a(D,{ref:"formRef",model:e.formData,"auto-label-width":""},{default:o(()=>[m("div",de,[z(a(v,{style:y([{overflow:"auto"},{height:`${e.windHeight}px`}])},{default:o(()=>[m("div",ie,[a(_,{gutter:16},{default:o(()=>[a(l,{span:12},{default:o(()=>[a(u,{field:"cid",label:"\u5206\u7C7Bid"},{default:o(()=>[a(b,{modelValue:e.formData.cid,"onUpdate:modelValue":s[0]||(s[0]=t=>e.formData.cid=t),placeholder:"\u8BF7\u9009\u5206\u7C7Bid",tablename:"common_picture_cate",showfield:"name"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:o(()=>[a(u,{field:"imageheight",label:"\u9AD8\u5EA6"},{default:o(()=>[a(i,{modelValue:e.formData.imageheight,"onUpdate:modelValue":s[1]||(s[1]=t=>e.formData.imageheight=t),placeholder:"\u8F93\u5165\u9AD8\u5EA6"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:o(()=>[a(u,{field:"imagewidth",label:"\u5BBD\u5EA6"},{default:o(()=>[a(i,{modelValue:e.formData.imagewidth,"onUpdate:modelValue":s[2]||(s[2]=t=>e.formData.imagewidth=t),placeholder:"\u8F93\u5165\u5BBD\u5EA6"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:o(()=>[a(u,{field:"status",label:"\u72B6\u60011=\u7981\u7528"},{default:o(()=>[a(n,{modelValue:e.formData.status,"onUpdate:modelValue":s[3]||(s[3]=t=>e.formData.status=t)},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:o(()=>[a(u,{field:"storage",label:"\u5B58\u50A8\u4F4D\u7F6E"},{default:o(()=>[a(i,{modelValue:e.formData.storage,"onUpdate:modelValue":s[4]||(s[4]=t=>e.formData.storage=t),placeholder:"\u8F93\u5165\u5B58\u50A8\u4F4D\u7F6E"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:o(()=>[a(u,{field:"title",label:"\u6587\u4EF6\u540D\u79F0"},{default:o(()=>[a(i,{modelValue:e.formData.title,"onUpdate:modelValue":s[5]||(s[5]=t=>e.formData.title=t),placeholder:"\u8F93\u5165\u6587\u4EF6\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:o(()=>[a(u,{field:"uid",label:"\u6DFB\u52A0\u8D26\u53F7"},{default:o(()=>[a(h,{modelValue:e.formData.uid,"onUpdate:modelValue":s[6]||(s[6]=t=>e.formData.uid=t),placeholder:"\u8F93\u5165\u6DFB\u52A0\u8D26\u53F7"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["style"]),[[G,e.activeKey==1]])])]),_:1},8,["model"])],2)],4)]),_:1},16,["onRegister","loading","onHeightChange","minHeight","title","onOk"])}const me=I(oe,[["render",re],["__scopeId","data-v-ecd42dc1"]]),ve=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));export{me as A,ve as a,_e as d,he as g};
