import{h as r,F as E,B as A,m as y,n as M,i as k,_ as B}from"./index.fe83b6cf.js";/* empty css               *//* empty css               */import{d as S,r as d,u as F,c as R,aP as D,aK as U,F as $,aH as L,aT as o,H as f,J as C,aU as a,b3 as P,bx as I,bK as O,be as T,bC as N,c6 as j,br as z,bd as K,bk as G,bN as J}from"./arco.31164f47.js";function ne(e){return e=E(e),r.get({url:"/createcode/cate2/getList",params:e},{errorMessageMode:"message"})}function q(e){return r.get({url:"/createcode/cate2/getContent",params:e},{errorMessageMode:"message"})}function Q(e){return r.post({url:"/createcode/cate2/save",params:e},{errorMessageMode:"message"})}function le(e){return r.post({url:"/createcode/cate2/upStatus",params:e},{errorMessageMode:"message"})}function ue(e){return r.delete({url:"/createcode/cate2/del",params:e},{errorMessageMode:"message"})}function re(e){return e=E(e),r.get({url:"/createcode/cate2/getAssetList",params:e},{errorMessageMode:"message"})}const W=S({name:"AddBook",components:{BasicModal:A},emits:["success"],setup(e,{emit:s}){const i=d(!1),w=d(520),p=d(520),m=d(),c={id:0,exchange_name:"",pid:0,remark:"",status:0,weigh:0},n=d(c),[l,{setModalProps:g,closeModal:_}]=y(async t=>{if(m.value?.resetFields(),g({confirmLoading:!1}),i.value=!!t?.isUpdate,F(i)){n.value=M(t.record),u(!0);const v=await q({id:t.record.id});n.value=Object.assign({},n.value,v),u(!1)}else n.value=M(c)}),b=R(()=>F(i)?"\u7F16\u8F91\u6570\u636E":"\u65B0\u589E\u6570\u636E"),{loading:h,setLoading:u}=k();return{registerModal:l,getTitle:b,handleSubmit:async()=>{try{if(!await m.value?.validate()){u(!0),D.loading({content:"\u63D0\u4EA4\u4E2D",id:"submit",duration:0});let v=M(F(n));await Q(v),D.success({content:"\u63D0\u4EA4\u6210\u529F",id:"submit",duration:1500}),_(),s("success"),u(!1)}}catch{u(!1),D.loading({content:"\u63D0\u4EA4\u4E2D",id:"submit",duration:1})}},formRef:m,loading:h,formData:n,modelHeight:w,onHeightChange:t=>{p.value=t},windHeight:p}}});const X={class:"tabs-content"},Y={class:"content_box"},Z={class:"besecontent"};function x(e,s,i,w,p,m){const c=I,n=O,l=T,g=N,_=j,b=z,h=K,u=G,V=J,H=U("BasicModal");return $(),L(H,P(e.$attrs,{onRegister:e.registerModal,isPadding:!1,loading:e.loading,width:"900px",onHeightChange:e.onHeightChange,minHeight:e.modelHeight,title:e.getTitle,onOk:e.handleSubmit}),{default:o(()=>[f("div",{class:"addFormbox",style:C({"min-height":`${e.windHeight}px`})},[f("div",X,[a(V,{ref:"formRef",model:e.formData,"auto-label-width":""},{default:o(()=>[f("div",Y,[a(u,{style:C([{overflow:"auto"},{height:`${e.windHeight}px`}])},{default:o(()=>[f("div",Z,[a(h,{gutter:16},{default:o(()=>[a(l,{span:12},{default:o(()=>[a(n,{field:"exchange_name",label:"\u540D\u79F0"},{default:o(()=>[a(c,{modelValue:e.formData.exchange_name,"onUpdate:modelValue":s[0]||(s[0]=t=>e.formData.exchange_name=t),placeholder:"\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:o(()=>[a(n,{field:"pid",label:"\u7236\u7EA7"},{default:o(()=>[a(g,{modelValue:e.formData.pid,"onUpdate:modelValue":s[1]||(s[1]=t=>e.formData.pid=t),placeholder:"\u8F93\u5165\u7236\u7EA7"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:24},{default:o(()=>[a(n,{field:"remark",label:"\u5907\u6CE8"},{default:o(()=>[a(_,{modelValue:e.formData.remark,"onUpdate:modelValue":s[2]||(s[2]=t=>e.formData.remark=t),placeholder:"\u8F93\u5165\u5907\u6CE8","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:o(()=>[a(n,{field:"status",label:"\u72B6\u6001"},{default:o(()=>[a(b,{modelValue:e.formData.status,"onUpdate:modelValue":s[3]||(s[3]=t=>e.formData.status=t)},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:o(()=>[a(n,{field:"weigh",label:"\u6392\u5E8F"},{default:o(()=>[a(g,{modelValue:e.formData.weigh,"onUpdate:modelValue":s[4]||(s[4]=t=>e.formData.weigh=t),placeholder:"\u8F93\u5165\u6392\u5E8F"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["style"])])]),_:1},8,["model"])])],4)]),_:1},16,["onRegister","loading","onHeightChange","minHeight","title","onOk"])}const ee=B(W,[["render",x],["__scopeId","data-v-60c57479"]]),de=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ee as A,re as a,de as b,ue as d,ne as g,le as u};
