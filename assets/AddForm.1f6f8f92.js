import{h as b,F as S,B as U,m as $,n as D,i as I,_ as L}from"./index.6eeff463.js";/* empty css               */import{d as P,r as u,u as V,c as K,aP as w,aK as E,F as g,aH as T,aT as t,H as m,J as B,G as C,aY as O,aV as R,I as k,aX as N,aI as j,aU as a,b2 as z,bv as G,b3 as J,bx as X,bK as Y,be as q,bd as Q,bk as W,bN as Z}from"./arco.31164f47.js";function ge(e){return e=S(e),b.get({url:"/createcode/exchange/getList",params:e},{errorMessageMode:"message"})}function x(e){return b.get({url:"/createcode/exchange/getContent",params:e},{errorMessageMode:"message"})}function ee(e){return b.post({url:"/createcode/exchange/save",params:e},{errorMessageMode:"message"})}function be(e){return b.delete({url:"/createcode/exchange/del",params:e},{errorMessageMode:"message"})}const ae=P({name:"AddForm",components:{BasicModal:U},emits:["success"],setup(e,{emit:s}){const M=u(!1),H=u(!0),f=u(!1),_=u(1),r=u(620),n=u(620),l=u(),p={id:0,account_name:"",apikey:"",cid:"",password:"",secret:"",symbol:""},d=u(p),[h,{setModalProps:v,closeModal:F}]=$(async i=>{if(l.value?.resetFields(),_.value=1,v({confirmLoading:!1}),f.value=!!i?.isUpdate,V(f)){d.value=D(i.record),c(!0);const y=await x({id:i.record.id});d.value=Object.assign({},d.value,y),c(!1)}else d.value=D(p)}),o=K(()=>V(f)?"\u7F16\u8F91\u6570\u636E":"\u65B0\u589E\u6570\u636E"),{loading:A,setLoading:c}=I();return{registerModal:h,getTitle:o,handleSubmit:async()=>{try{if(!await l.value?.validate()){c(!0),w.loading({content:"\u63D0\u4EA4\u4E2D",id:"submit",duration:0});let y=D(V(d));await ee(y),w.success({content:"\u63D0\u4EA4\u6210\u529F",id:"submit",duration:2e3}),F(),s("success"),c(!1)}}catch{c(!1),w.loading({content:"\u63D0\u4EA4\u4E2D",id:"submit",duration:1})}},formRef:l,loading:A,formData:d,tapList:[{id:1,name:"\u57FA\u7840\u5185\u5BB9"}],activeKey:_,modelHeight:r,onHeightChange:i=>{n.value=i},windHeight:n,isEditor:H,visibleimage:M}}});const oe={key:0,class:"tabs-header"},te={class:"tabs-nav-wrap"},se=["onClick"],le={class:"label"},ne={class:"content_box"},de={class:"besecontent"};function ue(e,s,M,H,f,_){const r=X,n=Y,l=q,p=E("FormBelongTable"),d=Q,h=W,v=Z,F=E("BasicModal");return g(),T(F,J(e.$attrs,{onRegister:e.registerModal,isPadding:!1,loading:e.loading,width:"1000px",onHeightChange:e.onHeightChange,minHeight:e.modelHeight,title:e.getTitle,onOk:e.handleSubmit}),{default:t(()=>[m("div",{class:"addFormbox",style:B({"min-height":`${e.windHeight}px`})},[e.isEditor?(g(),C("div",oe,[m("div",te,[(g(!0),C(O,null,R(e.tapList,o=>(g(),C("div",{class:k(["tap_item",{item_active:e.activeKey==o.id}]),onClick:()=>{e.activeKey=o.id}},[m("div",le,N(o.name),1)],10,se))),256))]),m("div",{class:"tabs-bar",style:B({top:`${(e.activeKey-1)*64}px`,height:"64px"})},null,4)])):j("",!0),m("div",{class:k(["tabs-content",{addpadding:!e.isEditor}])},[a(v,{ref:"formRef",model:e.formData,"auto-label-width":""},{default:t(()=>[m("div",ne,[z(a(h,{style:B([{overflow:"auto"},{height:`${e.windHeight}px`}])},{default:t(()=>[m("div",de,[a(d,{gutter:16},{default:t(()=>[a(l,{span:12},{default:t(()=>[a(n,{field:"account_name",label:"\u8D26\u53F7\u6635\u79F0"},{default:t(()=>[a(r,{modelValue:e.formData.account_name,"onUpdate:modelValue":s[0]||(s[0]=o=>e.formData.account_name=o),placeholder:"\u8F93\u5165\u8D26\u53F7\u6635\u79F0"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:t(()=>[a(n,{field:"apikey",label:"API"},{default:t(()=>[a(r,{modelValue:e.formData.apikey,"onUpdate:modelValue":s[1]||(s[1]=o=>e.formData.apikey=o),placeholder:"\u8F93\u5165API"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:t(()=>[a(n,{field:"cid",label:"\u5206\u7C7B"},{default:t(()=>[a(p,{modelValue:e.formData.cid,"onUpdate:modelValue":s[2]||(s[2]=o=>e.formData.cid=o),placeholder:"\u8BF7\u9009\u5206\u7C7B",tablename:"exchanges_cate",showfield:"exchange_name"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:t(()=>[a(n,{field:"password",label:"\u5BC6\u7801"},{default:t(()=>[a(r,{modelValue:e.formData.password,"onUpdate:modelValue":s[3]||(s[3]=o=>e.formData.password=o),placeholder:"\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:t(()=>[a(n,{field:"secret",label:"secret"},{default:t(()=>[a(r,{modelValue:e.formData.secret,"onUpdate:modelValue":s[4]||(s[4]=o=>e.formData.secret=o),placeholder:"\u8F93\u5165secret"},null,8,["modelValue"])]),_:1})]),_:1}),a(l,{span:12},{default:t(()=>[a(n,{field:"symbol",label:"\u4EA4\u6613\u5BF9"},{default:t(()=>[a(r,{modelValue:e.formData.symbol,"onUpdate:modelValue":s[5]||(s[5]=o=>e.formData.symbol=o),placeholder:"\u8F93\u5165\u4EA4\u6613\u5BF9"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["style"]),[[G,e.activeKey==1]])])]),_:1},8,["model"])],2)],4)]),_:1},16,["onRegister","loading","onHeightChange","minHeight","title","onOk"])}const re=L(ae,[["render",ue],["__scopeId","data-v-3bf82ac2"]]),_e=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));export{re as A,_e as a,be as d,ge as g};
