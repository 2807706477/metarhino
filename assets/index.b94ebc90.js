import{p as W,i as Ne,x as Pe,I as g,_ as Me}from"./index.fe83b6cf.js";/* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css              */import{c as Re,d as Ue,r as c,j as $e,o as je,w as He,aK as d,F as r,G as B,aU as a,aT as o,H as s,I,u,aH as v,aY as Oe,aX as b,aW as _,aI as N,c9 as Ye,n as X,aP as w,aO as Le,bh as Ge,ba as We,cd as Xe,bx as qe,bg as Je,bf as Qe,cg as Ze,b6 as Ke,bm as et,bF as tt,bT as at,bE as ot,c7 as nt,c8 as lt,ce as st}from"./arco.31164f47.js";import{A as ut,g as it,d as ct}from"./AddForm.27e54d96.js";import{C as dt,g as rt,d as pt}from"./CateForm.e9266f57.js";import{s as mt}from"./dayjs.37b46cef.js";import{t as gt}from"./index.7089f47a.js";import"./chart.0656511d.js";import"./vue.85c125e1.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css                */import"./common.c09afe5e.js";const q=Re(()=>[{title:"ID",dataIndex:"id",align:"left",width:60},{title:"\u6807\u9898",dataIndex:"title",align:"left",width:190},{title:"\u5355\u5F20\u56FE",dataIndex:"image",slotName:"image",align:"left",width:80},{title:"\u5206\u7C7B",dataIndex:"cidName",align:"left",width:100},{title:"\u7528\u6237\u7C7B\u578B",dataIndex:"userType",slotName:"dic",align:"left",width:110},{title:"\u591A\u5F20\u56FE",dataIndex:"images",slotName:"images",align:"left",width:100},{title:"\u559C\u6B22\u989C\u8272",dataIndex:"likeColor",slotName:"color",align:"left",width:100},{title:"\u8BB0\u5F55\u5F55\u97F3",dataIndex:"record_audio",slotName:"cellcopy",align:"left",width:190},{title:"\u4EF7\u683C",dataIndex:"price",align:"left",width:100},{title:"\u63CF\u8FF0",dataIndex:"des",slotName:"des",align:"left",width:280},{title:"\u6027\u522B",dataIndex:"sex",slotName:"gender",align:"left",width:100},{title:"\u51FA\u884C\u65B9\u5F0F",dataIndex:"workerway",slotName:"tags",align:"left",width:180},{title:"\u72B6\u6001",dataIndex:"status",slotName:"cellstatus",align:"left",width:100},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatetime",slotName:"datetime",align:"left",width:190},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations",fixed:"right",width:100,align:"center"}]),_t={class:"container"},vt={class:"split-menu"},ft={class:"list-header-wrapper"},ht={class:"list-header"},wt={class:"collapse-root"},xt={class:"tablebox"},bt={class:"scrollbarcontainer"},Ct={class:"titleBox"},yt={key:1,class:"titleBox"},Ft={class:"tigmenu"},kt=["onClick"],Bt=["onClick"],It={class:"optional-operation-wrapper"},Et={class:"flex-page contentbox"},zt={class:"custom-full-table"},Vt={class:"search-field"},Dt={class:"search-btn"},Tt={class:"search-option"},St={class:"table-container"},At={name:"product"},Nt=Ue({...At,setup(Pt){const P=c("205px"),[J,{openModal:M}]=W(),[Q,{openModal:R}]=W(),C=c(null),y=c([]),E=c([0]),z=c(0),Z=async n=>{E.value=n,i.value.cid=n[0],X(()=>{m()}),z.value!=n[0]?(C.value?.expandNode(n,!0),z.value=n[0]):(C.value?.expandNode(n,!1),z.value=0)},p=$e({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0}),{loading:K,setLoading:F}=Ne(!0),U=c([]),V=c([]),$=c(!1),j=c("large"),H=()=>({title:"",status:"",createtime:[],cid:0,userType:""}),i=c(H()),m=async()=>{F(!0);try{const n=await it({page:p.current,pageSize:p.pageSize,...i.value});U.value=n.items,p.current=n.page,p.total=n.total}catch{}finally{F(!1)}},D=async n=>{const t=await rt({}),f=Array.isArray(t)?t:t.data||[],S=[{key:0,name:"\u5168\u90E8\u6570\u636E"}];console.log("\u540E\u7AEF\u8FD4\u56DE\u6570\u636E",f,n),y.value=S.concat(f),n!=1&&(F(!1),y.value&&y.value.length>0&&X(()=>{F(!0),m()}))},T=c(null),h=c(!1),x=c(!1);je(()=>{D(0),O(),window.onresize=()=>{O()}});const O=()=>{T.value&&(T.value.offsetHeight>40?x.value=!0:(x.value=!1,h.value=!1))},ee=()=>{p.current=1,m()},te=()=>{p.current=1,i.value=H(),m()};He(()=>q.value,n=>{V.value=Pe(n)},{deep:!0,immediate:!0});const ae=()=>{M(!0,{isUpdate:!1,record:null})},oe=async n=>{M(!0,{isUpdate:!0,record:n})},ne=async()=>{p.current=1,m()},le=n=>{p.current=n,m()},se=n=>{p.pageSize=n,m()},ue=async n=>{try{w.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:0}),await ct({ids:[n.id]}),m(),w.success({content:"\u5220\u9664\u6210\u529F",id:"del",duration:2e3})}catch{w.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:1})}},k=c(!0);function ie(){k.value=!k.value,C.value?.expandAll(k.value)}const Y=n=>{R(!0,{isUpdate:!1,record:{pid:n}})},ce=n=>{R(!0,{isUpdate:!0,record:n})},de=async n=>{Le.warning({title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5185\u5BB9\u5417\uFF1F",content:"\u5220\u9664\u540E\u5185\u5BB9\u5C06\u65E0\u6CD5\u6062\u590D\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01",cancelText:"\u53D6\u6D88",okText:"\u5220\u9664",titleAlign:"start",hideCancel:!1,onOk:async()=>{try{w.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:0}),await pt({ids:[n]})&&(D(0),i.value.cid==n&&(i.value.cid=0,E.value=[0]),w.success({content:"\u5220\u9664\u6210\u529F",id:"del",duration:2e3}))}catch{w.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:1})}}})};return(n,t)=>{const f=Ge,S=d("IconDown"),re=We,pe=Xe,me=qe,L=Je,ge=Qe,_e=Ze,ve=d("FormBelongTable"),fe=d("FormDicSelect"),G=Ke,he=d("icon-up"),we=d("icon-down"),A=et,xe=d("icon-search"),be=d("cell-image"),Ce=d("cell-tag-plus"),ye=d("cell-images"),Fe=tt,ke=d("cell-copy"),Be=at,Ie=d("cell-gender"),Ee=d("cell-tags"),ze=d("cell-status"),Ve=ot,De=nt,Te=lt,Se=st,Ae=d("page-card");return r(),B("div",_t,[a(Ae,{breadcrumb:"",isFullscreen:$.value},{default:o(()=>[a(Se,{style:{width:"100%",height:"100%"},size:P.value,"onUpdate:size":t[11]||(t[11]=e=>P.value=e)},{"resize-trigger":o(()=>[...t[13]||(t[13]=[s("div",{class:"resizebox-line toggle-list"},[s("div",{class:"resizebox-line-icon"})],-1)])]),first:o(()=>[s("div",vt,[s("div",ft,[s("div",ht,[t[14]||(t[14]=s("span",{class:"catalogue-title"},"\u5206\u7C7B\u7BA1\u7406",-1)),s("div",wt,[s("span",{class:I(["header-operation",`collapse-toggle-${k.value?"down":"up"}`]),onClick:t[0]||(t[0]=()=>{ie()})},null,2)]),a(f,{content:"\u65B0\u5EFA\u5206\u7C7B"},{default:o(()=>[a(u(g),{class:"addicon",onClick:t[1]||(t[1]=e=>Y(0)),icon:"icon-plus-circle-fill",size:29,color:"#055fe6"})]),_:1})])]),s("div",xt,[s("div",bt,[a(pe,{blockNode:!0,data:y.value,"show-line":!0,ref_key:"treeRef",ref:C,"selected-keys":E.value,onSelect:Z},{"switcher-icon":o((e,{isLeaf:l})=>[l?(r(),B(Oe,{key:1},[e.key!=0?(r(),v(u(g),{key:0,class:"yuandian",icon:"svgfont-yuandian2",size:15})):(r(),v(u(g),{key:1,class:"yuandian",icon:"svgfont-home",size:15}))],64)):(r(),v(S,{key:0}))]),title:o(e=>[e.name.length>=8?(r(),v(f,{key:0,content:e.name,"background-color":"#4e5969"},{default:o(()=>[s("span",Ct,b(e.name),1)]),_:2},1032,["content"])):(r(),B("span",yt,b(e.name),1))]),extra:o(e=>[e.key!=0?(r(),B("span",{key:0,class:I(["page-tree-tool",{"page-tree-tool-active":e.showbtn}])},[a(re,{position:"br",trigger:"click","popup-visible":e.showbtn,onPopupVisibleChange:l=>e.showbtn=l},{content:o(()=>[s("div",Ft,[s("div",{class:"item",onClick:l=>ce(e)},[a(u(g),{class:"bicon",icon:"svgfont-bianji1",size:13}),t[15]||(t[15]=_(" \u7F16\u8F91",-1))],8,kt),s("div",{class:"item delete",onClick:l=>de(e.id)},[a(u(g),{class:"bicon",icon:"svgfont-icon7",size:13}),t[16]||(t[16]=_(" \u5220\u9664",-1))],8,Bt)])]),default:o(()=>[a(u(g),{class:"unicon page-tree-menu-button",icon:"svgfont-gengduo",size:13})]),_:2},1032,["popup-visible","onPopupVisibleChange"]),s("span",It,[a(f,{content:"\u521B\u5EFA\u5B50\u6570\u636E"},{default:o(()=>[a(u(g),{class:"unicon",onClick:l=>Y(e.id),icon:"svgfont-jia",size:12},null,8,["onClick"])]),_:2},1024)])],2)):N("",!0)]),_:1},8,["data","selected-keys"])])])])]),second:o(()=>[s("div",Et,[s("div",zt,[s("div",{class:I(["search-row",{unhasesearchbtn:!x.value,hasesearchbtn:x.value}])},[s("div",Vt,[s("div",{class:I(["search-line search-drown",{searchdowncss:h.value}])},[s("div",{class:"search-drown-box",ref_key:"searchRef",ref:T},[a(G,{wrap:""},{default:o(()=>[a(me,{style:{width:"150px"},modelValue:i.value.title,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value.title=e),placeholder:"\u8F93\u5165\u6807\u9898","allow-clear":""},null,8,["modelValue"]),a(ge,{style:{width:"120px"},modelValue:i.value.status,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value.status=e),placeholder:"\u9009\u62E9\u72B6\u6001","allow-clear":""},{default:o(()=>[a(L,{value:0},{default:o(()=>[...t[17]||(t[17]=[_("\u6B63\u5E38",-1)])]),_:1}),a(L,{value:1},{default:o(()=>[...t[18]||(t[18]=[_("\u9690\u85CF",-1)])]),_:1})]),_:1},8,["modelValue"]),s("span",null,[t[19]||(t[19]=_("\u4E0A\u4F20\u65F6\u95F4\uFF1A",-1)),a(_e,{style:{width:"230px"},modelValue:i.value.createtime,"onUpdate:modelValue":t[4]||(t[4]=e=>i.value.createtime=e),"allow-clear":"",shortcuts:u(mt),"shortcuts-position":"left",onChange:m},null,8,["modelValue","shortcuts"])]),a(ve,{from:"search",style:{width:"120px"},modelValue:i.value.cid,"onUpdate:modelValue":t[5]||(t[5]=e=>i.value.cid=e),placeholder:"\u8F93\u5165\u5206\u7C7B",tablename:"createcode_product_cate",showfield:"name"},null,8,["modelValue"]),a(fe,{style:{width:"120px"},modelValue:i.value.userType,"onUpdate:modelValue":t[6]||(t[6]=e=>i.value.userType=e),placeholder:"\u8F93\u5165\u7528\u6237\u7C7B\u578B",dicgroupid:"2"},null,8,["modelValue"])]),_:1})],512)],2)]),s("div",Dt,[a(G,null,{default:o(()=>[a(f,{mini:"",content:h.value?"\u6536\u8D77\u67E5\u8BE2\u6761\u4EF6":"\u5C55\u5F00\u67E5\u8BE2\u6761\u4EF6"},{default:o(()=>[x.value?(r(),v(A,{key:0,onClick:t[7]||(t[7]=e=>h.value=!h.value)},{icon:o(()=>[h.value?(r(),v(he,{key:0})):(r(),v(we,{key:1}))]),_:1})):N("",!0)]),_:1},8,["content"]),a(A,{type:"primary",onClick:ee},{icon:o(()=>[a(xe)]),default:o(()=>[t[20]||(t[20]=_(" \u67E5\u8BE2 ",-1))]),_:1}),a(A,{onClick:te},{default:o(()=>[_(b(n.$t("searchTable.form.reset")),1)]),_:1})]),_:1})]),s("div",Tt,[a(u(gt),{showbtn:["create","refresh","selectdensity","settingcolumn","fullscreen"],columns:u(q),disabledColumnKeys:["id"],onCreate:ae,onRefresh:m,onSelectdensity:t[8]||(t[8]=e=>j.value=e),onFullscreen:t[9]||(t[9]=e=>$.value=e),onSettingcolumn:t[10]||(t[10]=e=>V.value=e)},null,8,["columns"])])],2),s("div",St,[a(Te,{"row-key":"id",loading:u(K),pagination:p,columns:V.value,data:U.value,bordered:{wrapper:!0,cell:!0},size:j.value,"default-expand-all-rows":!0,ref:"artable",scroll:{x:"100%",y:"100%"},onPageChange:le,onPageSizeChange:se},{image:o(({record:e,column:l})=>[a(be,{height:"32",width:"32",src:e[l.dataIndex]},null,8,["src"])]),dic:o(({record:e,column:l})=>[e[l.dataIndex]?(r(),v(Ce,{key:0,color:e[l.dataIndex].tagcolor,value:e[l.dataIndex].keyname},null,8,["color","value"])):N("",!0)]),images:o(({record:e,column:l})=>[a(ye,{data:e[l.dataIndex]},null,8,["data"])]),color:o(({record:e,column:l})=>[a(Fe,{defaultValue:e[l.dataIndex],"trigger-props":{popupVisible:!1}},null,8,["defaultValue"])]),cellcopy:o(({record:e,column:l})=>[a(ke,{data:e[l.dataIndex]},null,8,["data"])]),des:o(({record:e,column:l})=>[a(Be,{ellipsis:{rows:2,showTooltip:!0}},{default:o(()=>[_(b(e[l.dataIndex]),1)]),_:2},1024)]),gender:o(({record:e,column:l})=>[a(Ie,{gender:e[l.dataIndex]},null,8,["gender"])]),tags:o(({record:e,column:l})=>[a(Ee,{data:e[l.dataIndex]},null,8,["data"])]),cellstatus:o(({record:e,column:l})=>[a(ze,{status:e[l.dataIndex]},null,8,["status"])]),datetime:o(({record:e,column:l})=>[_(b(u(Ye)(e[l.dataIndex]).format("YYYY-MM-DD HH:mm")),1)]),operations:o(({record:e})=>[a(u(g),{icon:"svgfont-bianji1",class:"iconbtn",onClick:l=>oe(e),size:18,color:"#0960bd"},null,8,["onClick"]),a(Ve,{direction:"vertical"}),a(De,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417?",onOk:l=>ue(e)},{default:o(()=>[a(u(g),{icon:"svgfont-icon7",class:"iconbtn",size:18,color:"#ed6f6f"})]),_:1},8,["onOk"])]),_:1},8,["loading","pagination","columns","data","size"])])])])]),_:1},8,["size"])]),_:1},8,["isFullscreen"]),a(ut,{onRegister:u(J),onSuccess:ne},null,8,["onRegister"]),a(dt,{onRegister:u(Q),onSuccess:t[12]||(t[12]=e=>D(1))},null,8,["onRegister"])])}}});const na=Me(Nt,[["__scopeId","data-v-e3adca3a"]]);export{na as default};
