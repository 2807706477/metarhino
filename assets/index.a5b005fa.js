import{p as A,i as oe,x as ne,_ as le}from"./index.afcd2e8c.js";/* empty css               *//* empty css               *//* empty css              */import{d as ie,bm as S,j as de,r as F,o as ce,C as re,w as pe,aK as v,F as f,G as g,aU as s,aT as u,H as o,u as p,aW as l,aX as d,c9 as me,I as z,aY as _e,aI as V,aH as fe,aP as c,bx as Fe,cg as ge,bf as ve,b6 as Ee,bD as Ce,c7 as ye,c8 as he}from"./arco.31164f47.js";import{d as be}from"./data.bdd6b40e.js";import{f as De,h as Be,i as ke,j as xe}from"./generatecode.b5d7d855.js";import we from"./AddDb.53662c2f.js";import Ae from"./MakeCode.0f9b23d2.js";import{e as Se}from"./vue.85c125e1.js";import{s as ze}from"./dayjs.37b46cef.js";import{t as Ve}from"./index.db4ff5ea.js";import{s as Me}from"./data.d324d80a.js";import"./chart.0656511d.js";import"./common.bbd0496d.js";import"./IconPicker.c662fd96.js";/* empty css                *//* empty css               *//* empty css              *//* empty css               *//* empty css               */const Pe={class:"container"},Ie={class:"flex-page flexcolumn"},Te={class:"custom-full-table"},Ue={class:"table-toolbar flex flex-between"},Re={class:"left"},$e={class:"right"},Ne={class:"table-container"},Oe={key:0,class:"default fontsizemin"},Ye={key:1,class:"default fontsizemin"},He={key:1,style:{"font-size":"12px"},class:"warning"},je={key:1},Ge={name:"generatecode"},Le=ie({...Ge,setup(qe){const M=Se(),P=S.Group,[I,{openModal:T}]=A(),[U,{openModal:R}]=A(),m=de({...{current:1,pageSize:10},showTotal:!0,showPageSize:!0}),{loading:$,setLoading:C}=oe(!0),y=F([]),h=F([]),b=F(!1),D=F("large"),B=()=>({name:"",createtime:[],status:""}),r=F(B()),i=async()=>{C(!0);try{const a=await De({page:m.current,pageSize:m.pageSize,...r.value});y.value=a.items,m.current=a.page,m.total=a.total}catch{}finally{C(!1)}},E=()=>{i()},N=()=>{r.value=B(),i()},k=F();ce(()=>{i()}),re(()=>{k.value&&clearTimeout(k.value)}),pe(()=>be.value,a=>{h.value=ne(a)},{deep:!0,immediate:!0});const O=async()=>{T(!0,{isUpdate:!1})},Y=()=>{R(!0,{isUpdate:!1})},x=async()=>{i()},H=a=>{m.current=a,i()},j=a=>{m.pageSize=a,i()},G=async a=>{try{c.loading({content:"\u66F4\u65B0\u72B6\u6001\u4E2D",id:"upStatus",duration:0}),await Be({id:a.id,status:a.status}),c.success({content:"\u66F4\u65B0\u72B6\u6001\u6210\u529F",id:"upStatus",duration:2e3})}catch{c.loading({content:"\u66F4\u65B0\u72B6\u6001\u4E2D",id:"upStatus",duration:1})}},L=async a=>{try{c.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:0}),await ke({id:a.id,is_install:a.is_install}),i(),c.success({content:"\u5220\u9664\u6210\u529F",id:"del",duration:2e3})}catch{c.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:1})}},q=a=>{M.push({name:"codemaker",query:{id:a.id}})},K=async a=>{try{c.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:0}),await xe({id:a.id}),i(),c.success({content:"\u5220\u9664\u6210\u529F",id:"del",duration:2e3})}catch{c.loading({content:"\u5220\u9664\u4E2D",id:"del",duration:2})}};return(a,t)=>{const W=Fe,X=ge,J=ve,Q=v("icon-search"),_=S,Z=Ee,ee=v("icon-plus"),te=v("icon-tool"),ue=Ce,w=ye,ae=he,se=v("page-card");return f(),g("div",Pe,[s(se,{breadcrumb:"",isFullscreen:b.value},{default:u(()=>[o("div",Ie,[o("div",Te,[o("div",Ue,[o("div",Re,[s(Z,null,{default:u(()=>[s(W,{style:{width:"180px"},modelValue:r.value.name,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value.name=e),placeholder:"\u641C\u7D22\u540D\u79F0\u3001\u5907\u6CE8","allow-clear":""},null,8,["modelValue"]),s(X,{modelValue:r.value.createtime,"onUpdate:modelValue":t[1]||(t[1]=e=>r.value.createtime=e),shortcuts:p(ze),"shortcuts-position":"left",style:{width:"230px"},onChange:E},null,8,["modelValue","shortcuts"]),s(J,{modelValue:r.value.status,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value.status=e),options:p(Me),placeholder:"\u72B6\u6001",style:{width:"78px"},onChange:E},null,8,["modelValue","options"]),s(_,{type:"primary",onClick:E},{icon:u(()=>[s(Q)]),default:u(()=>[l(" "+d(a.$t("searchTable.form.search")),1)]),_:1}),s(_,{onClick:N},{default:u(()=>[l(d(a.$t("searchTable.form.reset")),1)]),_:1})]),_:1})]),o("div",$e,[s(p(Ve),{showbtn:["refresh","selectdensity","fullscreen"],onRefresh:i,onSelectdensity:t[3]||(t[3]=e=>D.value=e),onFullscreen:t[4]||(t[4]=e=>b.value=e)},{default:u(()=>[s(_,{type:"primary",onClick:O},{icon:u(()=>[s(ee)]),default:u(()=>[t[5]||(t[5]=l(" \u6DFB\u52A0\u6570\u636E\u8868 ",-1))]),_:1}),s(_,{onClick:Y},{icon:u(()=>[s(te)]),default:u(()=>[t[6]||(t[6]=l(" \u751F\u6210\u4EE3\u7801\u5DE5\u5177 ",-1))]),_:1})]),_:1})])]),o("div",Ne,[s(ae,{"row-key":"id",loading:p($),pagination:m,columns:h.value,data:y.value,bordered:{wrapper:!0,cell:!0},size:D.value,"default-expand-all-rows":!0,ref:"artable",scroll:{x:"100%",y:"100%"},onPageChange:H,onPageSizeChange:j},{createtime:u(({record:e,column:n})=>[l(d(p(me)(e[n.dataIndex]).format("YYYY-MM-DD HH:mm")),1)]),fromtype:u(({record:e,column:n})=>[o("span",{style:{"font-size":"12px"},class:z(e[n.dataIndex]==1?"primary":"success")},d(e[n.dataIndex]==1?"\u4EE3\u7801\u6A21\u677F\u751F\u6210":"\u6570\u636E\u8868\u751F\u6210"),3)]),codelocation:u(({record:e,column:n})=>[o("span",{style:{"font-size":"12px"},class:z(e[n.dataIndex]=="adminDirName"?"warning":"success")},d(e[n.dataIndex]=="adminDirName"?"admin \u7AEF":"business\u7AEF"),3)]),overtime:u(({record:e})=>[l(d(e.overtime==0?"\u4E0D\u9650":e.overtime),1)]),api_path:u(({record:e})=>[e.is_install==1?(f(),g(_e,{key:0},[e.tpl_type!="web"?(f(),g("div",Oe,d(e.api_path+"/"+e.api_filename),1)):V("",!0),e.component!="/"&&e.tpl_type!="go"?(f(),g("div",Ye,d("views/"+e.component),1)):V("",!0)],64)):(f(),g("span",He,"\u5F85\u751F\u6210"))]),status:u(({record:e})=>[s(ue,{modelValue:e.status,"onUpdate:modelValue":n=>e.status=n,"checked-value":0,"unchecked-value":1,onChange:n=>G(e)},{checked:u(()=>[...t[7]||(t[7]=[l("\u5C55\u793A",-1)])]),unchecked:u(()=>[...t[8]||(t[8]=[l("\u9690\u85CF",-1)])]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),operations:u(({record:e})=>[e.fromtype==0?(f(),fe(p(P),{key:0,size:"small"},{default:u(()=>[s(_,{style:{color:"rgb(var(--arcoblue-6))"},onClick:n=>q(e)},{default:u(()=>[...t[9]||(t[9]=[l("\u751F\u6210\u4EE3\u7801",-1)])]),_:1},8,["onClick"]),s(w,{content:`\u60A8\u786E\u5B9A\u8981${e.is_install==1?"\u5378\u8F7D":"\u5220\u9664"}\u6570\u636E\u5E93\u548C\u4EE3\u7801\u5417?`,onOk:n=>L(e)},{default:u(()=>[s(_,{style:{color:"red"}},{default:u(()=>[l(d(e.is_install==1?"\u5378\u8F7D":"\u5220\u9664"),1)]),_:2},1024)]),_:2},1032,["content","onOk"])]),_:2},1024)):(f(),g("div",je,[s(w,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u4EE3\u7801\u5417?",onOk:n=>K(e)},{default:u(()=>[s(_,{style:{color:"red"},size:"small"},{default:u(()=>[...t[10]||(t[10]=[l("\u5220\u9664\u751F\u6210\u7684\u4EE3\u7801",-1)])]),_:1})]),_:1},8,["onOk"])]))]),_:1},8,["loading","pagination","columns","data","size"])]),t[11]||(t[11]=o("div",{class:"tigbox"},[o("div",{class:"title"},"\u751F\u6210\u4EE3\u7801\u8BF4\u660E\uFF1A"),o("div",{class:"item"},[o("div",{class:"label"},"1.\u65B0\u589E\u6570\u636E\u8868\u65F6\uFF0C\u8BF7\u70B9\u51FB\u53F3\u4E0A\u89D2\u7684\u201C\u66F4\u65B0\u6570\u636E\u8868\u201D\u8FDB\u884C\u66F4\u65B0")]),o("div",{class:"item"},[o("div",{class:"label"},"2.\u751F\u6210\u6570\u636E\u5217\u8868\u4E0D\u5E26\u5206\u7C7B\uFF0C\u5219\u76F4\u63A5\u9009\u62E9\u201C\u6A21\u677F\u7C7B\u578B=\u4EC5\u6570\u636E\u5217\u8868\u201D"),o("div",{class:"text"})]),o("div",{class:"item"},[o("div",{class:"label"},"3.\u751F\u6210\u5217\u8868\u6570\u636E\u65F6\uFF0C\u5982\u679C\u6570\u636E\u6709\u5BF9\u5E94\u5206\u7C7B\uFF08\u5982\uFF1A\u4EA7\u54C1\u5206\u7C7B\uFF09\u65F6\u201C\u6A21\u677F\u7C7B\u578B=\u6570\u636E\u5173\u8054\u5206\u7C7B\u201D\uFF0C\u4EA7\u54C1\u5217\u8868\u6570\u636E\u8868\u547D\u540D\u4E3A\uFF1Abusiness_product_content \u5206\u7C7B\u6570\u636E\u8868\u547D\u540D\u4E3A\uFF1Abusiness_product__cate"),o("div",{class:"text"})])],-1))])])]),_:1},8,["isFullscreen"]),s(we,{onRegister:p(I),onSuccess:x},null,8,["onRegister"]),s(Ae,{onRegister:p(U),onSuccess:x},null,8,["onRegister"])])}}});const Ft=le(Le,[["__scopeId","data-v-a46904b6"]]);export{Ft as default};
