import{h as B,B as w,I as C,m as Q,n as E,i as S,_ as P}from"./index.ec13b3f4.js";/* empty css               */import{d as U,r as F,u as k,c as R,aP as b,aK as p,F as $,aH as N,aT as u,H as T,aU as a,bn as q,aW as D,b3 as H,bx as A,bK as L,ba as j,bs as z,bq as K,br as O,bC as G,bm as W,bN as J}from"./arco.31164f47.js";import{I as X}from"./IconPicker.0c22230d.js";function Y(e){return B.post({url:"/dashboard/workplace/saveQuick",params:e},{errorMessageMode:"message"})}function se(e){return B.get({url:"/dashboard/workplace/getQuick",params:e},{errorMessageMode:"message"})}function le(e){return B.delete({url:"/dashboard/workplace/delQuick",params:e},{errorMessageMode:"message"})}const Z=U({name:"QuickForm",components:{BasicModal:w,IconPicker:X,Icon:C},emits:["success"],setup(e,{emit:o}){const i=F(!1),d=F(),c={id:0,type:0,name:"",path_url:"",icon:"",weigh:0},l=F(c),[m,{setModalProps:n,closeModal:f}]=Q(async s=>{d.value?.resetFields(),n({confirmLoading:!1}),i.value=!!s?.isUpdate,k(i)?l.value=E(s.record):l.value=E(c)}),g=R(()=>k(i)?"\u7F16\u8F91\u5FEB\u6377\u6309\u952E":"\u65B0\u589E\u5FEB\u6377\u6309\u952E"),{loading:_,setLoading:r}=S();return{registerModal:m,getTitle:g,handleSubmit:async()=>{try{await d.value?.validate()||(r(!0),b.loading({content:"\u63D0\u4EA4\u4E2D",id:"upStatus",duration:0}),await Y(l.value),b.success({content:"\u63D0\u4EA4\u6210\u529F",id:"upStatus",duration:2e3}),f(),o("success"),r(!1))}catch{r(!1),b.clear("top")}},formRef:d,loading:_,formData:l}}});const x={class:"modalbox"};function ee(e,o,i,d,c,l){const m=A,n=L,f=p("Icon"),g=p("icon-apps"),_=p("IconPicker"),r=j,v=z,s=K,y=O,V=G,M=W,h=J,I=p("BasicModal");return $(),N(I,H(e.$attrs,{onRegister:e.registerModal,loading:e.loading,footer:!1,width:"600px",minHeight:390,title:e.getTitle}),{default:u(()=>[T("div",x,[a(h,{ref:"formRef",model:e.formData,"auto-label-width":"",style:{padding:"10px 20px"},onSubmit:e.handleSubmit},{default:u(()=>[a(n,{field:"name",label:"\u540D\u79F0","validate-trigger":"input",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u540D\u79F0"}]},{default:u(()=>[a(m,{modelValue:e.formData.name,"onUpdate:modelValue":o[0]||(o[0]=t=>e.formData.name=t),placeholder:"\u8BF7\u586B\u5199\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(n,{field:"path_url",label:"\u8DF3\u8F6C\u8DEF\u5F84","validate-trigger":"input",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8DF3\u8F6C\u8DEF\u5F84"}]},{default:u(()=>[a(m,{modelValue:e.formData.path_url,"onUpdate:modelValue":o[1]||(o[1]=t=>e.formData.path_url=t),placeholder:"\u8BF7\u586B\u8DF3\u8F6C\u8DEF\u5F84"},null,8,["modelValue"])]),_:1}),a(n,{field:"icon",label:"\u9009\u62E9\u56FE\u6807",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u9009\u62E9\u56FE\u6807"}]},{default:u(()=>[a(v,{modelValue:e.formData.icon,"onUpdate:modelValue":o[3]||(o[3]=t=>e.formData.icon=t),placeholder:"\u9009\u62E9\u56FE\u6807/\u586B\u5199","search-button":""},q({"button-icon":u(()=>[a(r,{position:"br",trigger:"click"},{content:u(()=>[a(_,{onChange:o[2]||(o[2]=t=>{e.formData.icon=t})})]),default:u(()=>[a(g,{size:23})]),_:1})]),_:2},[e.formData.icon?{name:"prefix",fn:u(()=>[a(f,{icon:e.formData.icon},null,8,["icon"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),a(n,{label:"\u7C7B\u578B",field:"type",style:{"margin-bottom":"10px"}},{default:u(()=>[a(y,{modelValue:e.formData.type,"onUpdate:modelValue":o[4]||(o[4]=t=>e.formData.type=t)},{default:u(()=>[a(s,{value:0},{default:u(()=>[...o[6]||(o[6]=[D("\u8DF3\u8F6C\u7CFB\u7EDF",-1)])]),_:1}),a(s,{value:1},{default:u(()=>[...o[7]||(o[7]=[D("\u8DF3\u8F6C\u5916\u90E8",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"\u6392\u5E8F",field:"weigh",style:{"margin-bottom":"15px"}},{default:u(()=>[a(V,{modelValue:e.formData.weigh,"onUpdate:modelValue":o[5]||(o[5]=t=>e.formData.weigh=t),placeholder:"\u8BF7\u586B\u6392\u5E8F"},null,8,["modelValue"])]),_:1}),a(n,null,{default:u(()=>[a(M,{type:"primary","html-type":"submit",loading:e.loading,style:{width:"150px","margin-left":"80px","margin-top":"15px"}},{default:u(()=>[...o[8]||(o[8]=[D("\u63D0\u4EA4",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","onSubmit"])])]),_:1},16,["onRegister","loading","title"])}const oe=P(Z,[["render",ee],["__scopeId","data-v-42a42ef3"]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{oe as Q,re as a,le as d,se as g};
