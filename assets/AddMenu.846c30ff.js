import{h as v,B as H,i as k,n as f,m as R,_ as U}from"./index.afcd2e8c.js";/* empty css               *//* empty css               */import{d as $,r as i,u as h,c as S,aP as w,aK as I,F as C,aH as V,aT as t,H as g,J as M,aU as a,aW as A,aI as L,b3 as N,bx as O,bK as T,be as P,bq as q,br as z,bC as j,c6 as K,bd as Y,bk as G,bN as J}from"./arco.31164f47.js";function se(e){return v.get({url:"/datacenter/tabledata/getList",params:e},{errorMessageMode:"message"})}function W(e){return v.post({url:"/datacenter/tabledata/save",params:e},{errorMessageMode:"message"})}function ne(e){return v.delete({url:"/datacenter/tabledata/del",params:e},{errorMessageMode:"message"})}const Q=$({name:"AddMenu",components:{BasicModal:H},emits:["success"],setup(e,{emit:o}){const m=i(!1),D=i(350),c=i(350),{loading:E,setLoading:n}=k(),l=i(),s={id:0,title:"",tablename:"",remark:"",status:0,db_way:"sys",weigh:0},r=i(f(s)),[p,{setModalProps:_,closeModal:b}]=R(async d=>{l.value?.resetFields(),n(!0),_({confirmLoading:!1}),m.value=!!d?.isUpdate,h(m)?r.value=f(d.record):r.value=f(s),n(!1)}),F=S(()=>h(m)?"\u7F16\u8F91\u6570\u636E":"\u65B0\u589E\u6570\u636E");return{registerModal:p,getTitle:F,handleSubmit:async()=>{try{if(!await l.value?.validate()){n(!0),w.loading({content:"\u63D0\u4EA4\u4E2D",id:"save",duration:0});let u=f(h(r));await W(u),w.success({content:"\u63D0\u4EA4\u6210\u529F",id:"save",duration:2e3}),b(),o("success"),n(!1)}}catch{n(!1),w.loading({content:"\u63D0\u4EA4\u4E2D",id:"save",duration:1})}},formRef:l,loading:E,formData:r,OYoptions:[{label:"\u6B63\u5E38",value:0},{label:"\u7981\u7528",value:1}],modelHeight:D,onHeightChange:d=>{c.value=d},windHeight:c}}});const X={class:"tabs-content"},Z={class:"content_box"},x={class:"besecontent"};function ee(e,o,m,D,c,E){const n=O,l=T,s=P,r=q,p=z,_=j,b=K,F=Y,B=G,y=J,d=I("BasicModal");return C(),V(d,N(e.$attrs,{onRegister:e.registerModal,isPadding:!1,loading:e.loading,width:"800px",onHeightChange:e.onHeightChange,minHeight:e.modelHeight,title:e.getTitle,onOk:e.handleSubmit}),{default:t(()=>[g("div",{class:"addFormbox",style:M({"min-height":`${e.windHeight}px`})},[g("div",X,[a(y,{ref:"formRef",model:e.formData,"auto-label-width":""},{default:t(()=>[g("div",Z,[a(B,{style:M([{overflow:"auto"},{height:`${e.windHeight}px`}])},{default:t(()=>[g("div",x,[a(F,{gutter:16},{default:t(()=>[a(s,{span:24},{default:t(()=>[a(l,{field:"title",label:"\u540D\u79F0","validate-trigger":"input",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u540D\u79F0"}]},{default:t(()=>[a(n,{modelValue:e.formData.title,"onUpdate:modelValue":o[0]||(o[0]=u=>e.formData.title=u),placeholder:"\u8BF7\u586B\u540D\u79F0","max-length":50,"allow-clear":"","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1}),a(s,{span:12},{default:t(()=>[a(l,{field:"db_way",label:"\u6570\u636E\u5B58\u50A8\u8868",tooltip:"\u516C\u5171\u8868\u662Fcommon_dictionary_data\uFF0C\u5355\u72EC\u5EFA\u8868\u662F\u4F60\u81EA\u5DF1\u521B\u5EFA\u7684\u6570\u636E\u8868(\u6839\u636E\u4E1A\u52A1\u9700\u6C42\u5206\u8868\u5B58\u50A8)"},{default:t(()=>[a(p,{modelValue:e.formData.db_way,"onUpdate:modelValue":o[1]||(o[1]=u=>e.formData.db_way=u)},{default:t(()=>[a(r,{value:"sys"},{default:t(()=>[...o[6]||(o[6]=[A("\u516C\u5171\u8868",-1)])]),_:1}),a(r,{value:"alone"},{default:t(()=>[...o[7]||(o[7]=[A("\u5355\u72EC\u5EFA\u8868",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(s,{span:12},{default:t(()=>[a(l,{field:"status",label:"\u72B6\u6001"},{default:t(()=>[a(p,{modelValue:e.formData.status,"onUpdate:modelValue":o[2]||(o[2]=u=>e.formData.status=u),options:e.OYoptions},null,8,["modelValue","options"])]),_:1})]),_:1}),e.formData.db_way=="alone"?(C(),V(s,{key:0,span:24},{default:t(()=>[a(l,{field:"tablename",label:"\u6570\u636E\u8868\u540D\u79F0","validate-trigger":"input",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u540D\u79F0"}]},{default:t(()=>[a(n,{modelValue:e.formData.tablename,"onUpdate:modelValue":o[3]||(o[3]=u=>e.formData.tablename=u),placeholder:"\u8FD9\u91CC\u662F\u586B\u5199\u60A8\u81EA\u5DF1\u65B0\u5EFA\u7684\u6570\u636E\u8868\uFF0C\u8868\u7ED3\u6784\u53C2\u8003common_dictionary_data\u8868\u8BBE\u8BA1","max-length":50,"allow-clear":"","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1})):L("",!0),a(s,{span:24},{default:t(()=>[a(l,{field:"weigh",label:"\u6392\u5E8F","validate-trigger":"input",style:{"margin-bottom":"15px"}},{default:t(()=>[a(_,{min:0,modelValue:e.formData.weigh,"onUpdate:modelValue":o[4]||(o[4]=u=>e.formData.weigh=u),placeholder:"\u8BF7\u586B\u6392\u5E8F"},null,8,["modelValue"])]),_:1})]),_:1}),a(s,{span:24},{default:t(()=>[a(l,{field:"remark",label:"\u5907\u6CE8",style:{"margin-bottom":"15px"}},{default:t(()=>[a(b,{modelValue:e.formData.remark,"onUpdate:modelValue":o[5]||(o[5]=u=>e.formData.remark=u),placeholder:"\u8BF7\u586B\u5907\u6CE8","max-length":200,"allow-clear":"","show-word-limit":"","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["style"])])]),_:1},8,["model"])])],4)]),_:1},16,["onRegister","loading","onHeightChange","minHeight","title","onOk"])}const ae=U(Q,[["render",ee],["__scopeId","data-v-a9cc0150"]]),de=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"}));export{ae as A,de as a,ne as d,se as g};
